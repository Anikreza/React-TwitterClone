(this.webpackJsonpttr=this.webpackJsonpttr||[]).push([[0],{119:function(e,t,c){},121:function(e,t,c){},148:function(e,t,c){},149:function(e,t,c){},151:function(e,t,c){},152:function(e,t,c){},153:function(e,t,c){},154:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c.n(a),n=c(32),i=c.n(n),o=(c(95),c(8)),r=(c(96),c(97),c(60)),l=c.n(r),j=(c(69),c(4));var d=function(e){var t=e.active,c=e.text,a=e.Icon;return Object(j.jsxs)("div",{className:"sidebarOption ".concat(t&&"sidebarOption--active"),children:[Object(j.jsx)("h3",{children:Object(j.jsx)(a,{size:25})}),Object(j.jsx)("h2",{children:c})]})},b=c(79),u=c.n(b),m=c(80),O=c.n(m),h=c(81),x=c.n(h),f=c(171),p=c(50),v=c(82),g=c(61),N=c(78),y=c(29),w=c(172),S=c(52),k=c(75),C=c.n(k),T=(c(105),c(16)),L=(c(110),T.a.initializeApp({apiKey:"AIzaSyB23QiSgX9TVOyyy2wTATI_FoPe2UQzgbg",authDomain:"twitter-clone-69ba6.firebaseapp.com",projectId:"twitter-clone-69ba6",storageBucket:"twitter-clone-69ba6.appspot.com",messagingSenderId:"766075204483",appId:"1:766075204483:web:ee192ff2fecb3e9e5c7cb6",measurementId:"G-MN25RN4HQY"}).firestore()),I=T.a.storage();T.a.firestore.FieldValue.serverTimestamp;var z=function(e){var t=e.active,c=e.text,s=e.Icon,n=e.name,i=e.clearnoti,r=Object(a.useState)([]),l=Object(o.a)(r,2),d=l[0],b=l[1],u=Object(a.useState)(i),m=Object(o.a)(u,2),O=(m[0],m[1],0);return Object(a.useEffect)((function(){L.collection("notifications").doc(n).collection("notification").orderBy("time","desc").onSnapshot((function(e){return b(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[d]),Object(j.jsxs)("div",{className:"sidebarOption ".concat(t&&"sidebarOption--active"),children:[Object(j.jsx)("h3",{children:Object(j.jsx)(s,{size:25})}),Object(j.jsx)("h2",{children:c}),d.map((function(e){return Object(j.jsx)("div",{className:"hide",children:!0===e.data.enable?O+=1:""})})),Object(j.jsx)("p",{className:0!==O?"notification-circle":"hide",children:O})]})},D=c(43);var F=function(e){var t=e.name,c=e.avatar,s=Object(a.useState)([]),n=Object(o.a)(s,2),i=n[0],r=n[1],b=Object(a.useState)(!1),m=Object(o.a)(b,2),h=m[0],k=m[1];Object(a.useEffect)((function(){L.collection("notifications").doc(t).collection("notification").orderBy("time","desc").onSnapshot((function(e){return r(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[i]);var T=Object(a.useState)(!1),I=Object(o.a)(T,2),F=I[0],B=I[1];return Object(j.jsxs)("div",{className:"sidebar",children:[Object(j.jsx)(D.b,{path:!0,to:"/React-TwitterClone",children:Object(j.jsx)(l.a,{className:"sidebar__twitterIcon"})}),Object(j.jsx)(D.b,{path:!0,to:"/React-TwitterClone",activeStyle:{fontWeight:"1000"},children:Object(j.jsx)(d,{Icon:N.a,text:"Home"})}),Object(j.jsx)("div",{onClick:function(){return window.alert("Under Developement")},children:Object(j.jsx)(d,{Icon:p.b,text:"  Explore"})}),Object(j.jsx)("div",{onClick:function(){k(!0);for(var e=0;e<=i.length;e++){var c;L.collection("notifications").doc(t).collection("notification").doc(null===(c=i[e])||void 0===c?void 0:c.id).update({enable:!1}),console.log(e)}},children:Object(j.jsx)(D.b,{path:!0,to:"/notification",activeStyle:{fontWeight:"1000"},children:Object(j.jsx)(z,{clearnoti:h,name:t,Icon:g.b,text:"Notifications"})})}),Object(j.jsx)("div",{children:Object(j.jsx)(D.b,{path:!0,to:"/messages",activeStyle:{fontWeight:"1000"},children:Object(j.jsx)(d,{Icon:u.a,text:"Messages"})})}),Object(j.jsx)("div",{onClick:function(){return window.alert("Under Developement")},children:Object(j.jsx)(d,{Icon:y.a,text:"Bookmarks"})}),Object(j.jsx)("div",{onClick:function(){return window.alert("Under Developement")},children:Object(j.jsx)(d,{Icon:O.a,text:"Lists"})}),Object(j.jsx)("div",{onClick:function(){return window.alert("Under Developement")},children:Object(j.jsx)(d,{Icon:x.a,text:"Profile"})}),Object(j.jsx)("div",{onClick:function(){return window.alert("Under Developement")},children:Object(j.jsx)(d,{Icon:v.a,text:"  More"})}),Object(j.jsx)(f.a,{variant:"outlined",className:"sidebar__tweet",fullWidth:!0,children:"Tweet"}),Object(j.jsxs)("div",{onClick:function(){return B(!0)},className:"sidebar-bottom",children:[Object(j.jsxs)("h2",{children:[Object(j.jsx)(w.a,{src:c})," "]}),Object(j.jsxs)("h4",{children:[t,Object(j.jsx)("br",{})," ",Object(j.jsxs)("p1",{className:"sm",children:["@",t]})," "]}),Object(j.jsx)(y.d,{size:"20px"})]}),Object(j.jsxs)(C.a,{className:"logout-bottom",isOpen:F,portal:!0,onClose:function(){return B(!1),!0},children:[Object(j.jsxs)("div",{className:"bottom-div",children:[Object(j.jsx)(w.a,{src:c}),Object(j.jsxs)("h4",{style:{paddingLeft:"8px"},children:[t,Object(j.jsx)("br",{})," ",Object(j.jsxs)("p1",{className:"sm",children:["@",t]})," "]})]}),Object(j.jsx)("h4",{style:{paddingLeft:"5px",paddingTop:"10px",fontWeight:"lighter"},children:"Add an existing account"}),Object(j.jsx)("a",{href:"",onclick:"dummy(0);return false;",children:Object(j.jsx)(S.GoogleLogout,{render:function(e){return Object(j.jsxs)("button",{className:"logout",onClick:e.onClick,disabled:e.disabled,children:["Log Out @",t]})},clientId:"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:!0})})]})]})},B=c(17),E=(c(119),c(20)),R=c.n(E),_=c(35),A=(c(121),c.p,c(63)),V=c(83),W=c(51),P=c(62),U=c(65),M=c(54);function H(e){var t=e.avatar,c=e.name,s=Object(a.useRef)(),n=Object(a.useState)(null),i=Object(o.a)(n,2),r=i[0],l=i[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),u=b[0],m=b[1],O=Object(a.useState)(""),h=Object(o.a)(O,2),x=h[0],p=h[1],v=Object(a.useState)(""),N=Object(o.a)(v,2),S=(N[0],N[1]),k=Object(a.useState)(0),C=Object(o.a)(k,2),z=(C[0],C[1]),D=Object(a.useState)(),F=Object(o.a)(D,2),B=F[0],E=F[1],H="@".concat(c);function Y(){m("")}var G=function(){var e=Object(_.a)(R.a.mark((function e(t){var c,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=t.target.files[0])){e.next=9;break}return a=new FileReader,e.next=5,m(c);case 5:a.onloadend=function(){p(a.result)},a.readAsDataURL(c),e.next=11;break;case 9:m(null),S("Please select an image file");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=I.ref("images/".concat(u.name));return Object(j.jsxs)("div",{className:"tweetbox",children:[Object(j.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsxs)("div",{className:"tweetboxInput",children:[Object(j.jsx)(w.a,{src:t,style:{height:"50px",width:"50px"}}),Object(j.jsx)(U.a,{className:"auto_height",value:r,onChange:function(e){l(e.target.value)},placeholder:"What's happening?",minRows:3,maxRows:20})]}),B?Object(j.jsx)("div",{style:{float:"left",marginLeft:"40%"},children:Object(j.jsx)(M.BeatLoader,{className:"loader-position",size:40,color:"grey"})}):Object(j.jsx)("div",{children:Object(j.jsx)("a",{className:u?"image-cross":"hdn",onClick:Y,children:Object(j.jsx)(P.a,{})})}),Object(j.jsx)("div",{className:u?"show-image":"hdn",children:Object(j.jsx)("img",{src:x})}),Object(j.jsxs)("div",{className:"tweetbox-ico",children:[Object(j.jsxs)("label",{ref:s,htmlFor:"fileinput",children:["  ",Object(j.jsx)(y.c,{size:25,style:{cursor:"pointer"}})," "]}),Object(j.jsx)("input",{onChange:G,className:"tweetBox-imageInput",id:"fileinput",type:"file",style:{display:"none"}}),Object(j.jsx)(A.b,{size:25}),Object(j.jsx)(V.a,{size:25}),Object(j.jsx)(g.a,{size:25}),Object(j.jsx)(W.c,{size:25})]}),Object(j.jsx)(f.a,{disabled:!r&&!u||"",onClick:function(){E(!0),J.put(u).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;z(t)}),(function(e){S(e)}),Object(_.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.collection("posts").add({displayname:c,username:H,avatar:t,verification:!1,image:x,text:r,time:T.a.firestore.FieldValue.serverTimestamp(),like:0}),l(""),Y(),E(!1);case 4:case"end":return e.stop()}}),e)}))))},className:r||u?"tweetbox-button-glow":"tweetbox-button",children:" Tweet"})]}),Object(j.jsx)("div",{})]})}c(148);var Y=c(85),G=c.n(Y),J=c(86),K=c.n(J),Q=c(87),X=c.n(Q),q=c(64);function Z(e){var t=e.open,c=e.children,a=e.onClose;return t?i.a.createPortal(Object(j.jsxs)("div",{className:"comment-modal-close",children:[Object(j.jsx)("div",{className:" OVERLAY_STYLES"}),Object(j.jsxs)("div",{className:"MODAL_STYLES",children:[Object(j.jsx)(A.a,{onClick:a}),c]})]}),document.getElementById("root")):null}var $=c(84),ee=c.n($),te=(c(149),c(33)),ce=c.n(te),ae=function(e){var t=e.name,c=e.postusername,s=e.avatar,n=e.time,i=e.text,r=e.useravatar,l=e.displayname,d=Object(a.useState)(""),b=Object(o.a)(d,2),u=b[0],m=b[1],O="Replying to",h="@".concat(t),x=Object(a.useState)(!0),f=Object(o.a)(x,2),p=f[0],v=(f[1],Object(a.useState)(!1)),g=Object(o.a)(v,2),N=g[0],y=g[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(ee.a,{className:p?"com-bw":"com-c",fontSize:"small",onClick:function(){return y(!0)}}),Object(j.jsxs)(Z,{open:N,onClose:function(){return y(!1)},children:[Object(j.jsxs)("div",{className:"post-summery",children:[Object(j.jsxs)("div",{className:"user-summery",children:[Object(j.jsx)(w.a,{src:s}),Object(j.jsx)("p2",{children:c}),Object(j.jsx)(q.a,{color:"grey",style:{marginTop:"15px",padding:"1px"}}),Object(j.jsx)("p1",{children:ce()(null===n||void 0===n?void 0:n.toDate()).startOf("minute").fromNow()})]}),Object(j.jsx)("p",{children:i}),Object(j.jsx)("br",{}),Object(j.jsxs)("p5",{children:["Replying to ",Object(j.jsx)("p4",{children:c})]}),Object(j.jsx)("br",{})]}),Object(j.jsxs)("div",{className:"tweet-reply",children:[Object(j.jsx)(w.a,{className:"reply-avatar",src:r}),Object(j.jsx)("form",{className:"comment-input",onSubmit:function(e){return e.preventDefault()},children:Object(j.jsx)(U.a,{className:"auto_height",onChange:function(e){return m(e.target.value)},placeholder:"Tweet your reply",value:u,type:"text",minRows:1,maxRows:5})})]}),Object(j.jsx)("button",{className:"btn",onClick:function(e){e.preventDefault(),L.collection("posts").add({displayname:t,username:h,avatar:r,reply:O,image:"",who:c,like:0,verification:"",text:u,time:T.a.firestore.FieldValue.serverTimestamp()}),L.collection("notifications").doc(l).collection("notification").add({notification:"".concat(t," Replied To you: ").concat(u),enable:!0,time:T.a.firestore.FieldValue.serverTimestamp()}),m(""),y(!1),console.log(O)},children:" Reply "})]})]})};function se(e){var t=e.displayname,c=e.username,s=e.verification,n=e.time,i=e.text,r=e.image,l=e.avatar,d=e.postid,b=e.name,u=e.avatarr,m=e.reply,O=e.who,h=e.like,x=Object(a.useState)(h),f=Object(o.a)(x,2),v=f[0],g=f[1],N=Object(a.useState)(!1),y=Object(o.a)(N,2),S=y[0],k=y[1],C=Object(a.useState)(!0),I=Object(o.a)(C,2),z=I[0],D=I[1],F=Object(a.useState)(!0),B=Object(o.a)(F,2),E=B[0],R=B[1],_=Object(a.useState)(" "),A=Object(o.a)(_,2),V=(A[0],A[1]);return Object(j.jsxs)("div",{className:"post",children:[Object(j.jsx)("div",{className:"post-avatar",children:Object(j.jsx)(w.a,{src:l})}),Object(j.jsxs)("div",{className:"post-body",children:[Object(j.jsxs)("div",{className:"post-header",children:[Object(j.jsx)(p.a,{className:"delete-icon ".concat(b!==t&&"delete-hidden"),onClick:function(){window.confirm("Press OK To Delete The Post")&&L.collection("posts").doc(d).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)}))},size:"25px",color:"#543c42"}),Object(j.jsx)("div",{className:"post-header-text",children:Object(j.jsxs)("h3",{children:[" ",t,""," ",Object(j.jsxs)("span",{className:"post__headerSpecial",children:[s&&Object(j.jsx)(q.a,{}),c," ",ce()(null===n||void 0===n?void 0:n.toDate()).startOf("minute").fromNow()]})]})}),Object(j.jsxs)("div",{className:"post-header-description",children:[Object(j.jsxs)("p",{children:[m," ",Object(j.jsx)("span",{className:"spanwho",color:"#00a2ff",children:O})]}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:i})]})]}),Object(j.jsx)("img",{src:r}),Object(j.jsxs)("div",{className:"post-footer",children:[Object(j.jsx)(ae,{name:b,displayname:t,postusername:c,postid:d,avatar:l,useravatar:u,image:r,time:n,text:i}),Object(j.jsx)(G.a,{className:E?"repeat-bw":"repeat-c",onClick:function(e){e.preventDefault(),t!==b?(L.collection("posts").add({displayname:b,username:c,avatar:u,image:r,verification:s,text:i,time:T.a.firestore.FieldValue.serverTimestamp(),like:0}),L.collection("notifications").doc(t).collection("notification").add({notification:"".concat(b," Re-tweeted your tweet"),enable:!0,time:T.a.firestore.FieldValue.serverTimestamp()})):window.alert("You cant retweet your own tweet"),V(""),R(!E)},fontSize:"small"}),Object(j.jsx)(K.a,{className:z?"love-bw":"love-c",onClick:function(){D(!z),k(!0),S?(g(v-1),k(!1)):g(v+1),L.collection("posts").doc(d).update({like:v}),console.log("this is like:",h)},fontSize:"small"}),Object(j.jsx)(X.a,{fontSize:"small",onClick:function(){return window.alert("Under Developement")}})]}),h>0?Object(j.jsx)("div",{className:"move",children:Object(j.jsxs)("p3",{children:[" ",h," "]})}):Object(j.jsx)("div",{})]})]})}var ne=function(e){var t=e.name,c=e.avatar,s=e.email,n=Object(a.useState)([]),i=Object(o.a)(n,2),r=i[0],l=i[1],d=Object(a.useState)(!1),b=Object(o.a)(d,2),u=b[0],m=b[1];return Object(a.useEffect)((function(){m(!0),L.collection("posts").orderBy("time","desc").onSnapshot((function(e){return l(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})),L.collection("users").doc(s).set({username:t,email:s,avatar:c,time:T.a.firestore.FieldValue.serverTimestamp()}),m(!1)}),[c]),Object(j.jsxs)("div",{className:"feed",children:[Object(j.jsx)("div",{className:"feed-header",children:Object(j.jsx)("h2",{children:"Home "})}),Object(j.jsx)(H,{avatar:c,name:t}),r.map((function(e){return Object(j.jsx)(se,Object(B.a)({displayname:e.data.displayname,username:e.data.username,verification:e.data.verification,text:e.data.text,avatar:e.data.avatar,image:e.data.image,time:e.data.time,like:e.data.like,name:t,avatarr:c,postid:e.id,reply:e.data.reply,who:e.data.who},"like",e.data.like),e.data.text)})),u?Object(j.jsx)("div",{}):Object(j.jsx)("div",{className:"loader"})]})},ie=(c(151),c(66)),oe=function(){return Object(j.jsxs)("div",{className:"right",children:[Object(j.jsxs)("div",{className:"right-input",children:[Object(j.jsx)(p.c,{size:"20px",className:"right-search-icon"}),Object(j.jsx)("input",{type:"text",placeholder:"Search Twitter"})]}),Object(j.jsxs)("div",{className:"right-container",children:[Object(j.jsx)("h2",{children:"Trends for you"}),Object(j.jsx)(ie.a,{sourceType:"profile",screenName:"KAKA",options:{height:300}}),Object(j.jsx)(ie.a,{sourceType:"profile",screenName:"LFC",options:{height:300}}),Object(j.jsx)(ie.b,{tweetId:"1399698641535832068"})]})]})},re=(c(152),function(e){var t=e.name,c=Object(a.useState)([]),s=Object(o.a)(c,2),n=s[0],i=s[1],r=Object(a.useState)(!0),d=Object(o.a)(r,2),b=d[0],u=d[1],m=Object(a.useState)(!1),O=Object(o.a)(m,2),h=O[0],x=O[1];function f(){x(!h),u(!b)}return Object(a.useEffect)((function(){L.collection("notifications").doc(t).collection("notification").orderBy("time","desc").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[n]),Object(j.jsxs)("div",{className:"notification",children:[Object(j.jsxs)("div",{className:"flexbox",children:[Object(j.jsx)("h3",{onClick:f,className:"lefth",children:"All"}),Object(j.jsx)("h3",{onClick:f,className:"righth",children:"Mentions"})]}),Object(j.jsx)("hr",{className:b?"move-hr-bg":"move-hr"}),Object(j.jsx)("hr",{className:h?"move-hr-r-bg":"move-hr-r"}),Object(j.jsx)("hr",{}),0!==n.length?n.map((function(e){var t;return Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsx)("h2",{children:Object(j.jsx)(l.a,{size:45})}),Object(j.jsxs)("p",{children:["".concat(e.data.notification,"    "),Object(j.jsx)("p1",{className:"color-notif",children:ce()(null===(t=e.data.time)||void 0===t?void 0:t.toDate()).startOf("minute").fromNow()}),"    ",Object(j.jsx)("hr",{})]})]})})):Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:"You currently have no notifications Loaded"}),Object(j.jsx)("p",{children:"When another user comments or retweets to your tweets, A notification warning will appear on the sidebar #Notification"}),Object(j.jsx)("p",{children:" And the notification will be displayed here"})]}),0!==n.length?Object(j.jsx)("div",{}):Object(j.jsx)("div",{className:"loader"})]})}),le=c.p+"static/media/tt.4882770d.png",je=c(15),de=(c(153),c(88)),be=function(e){var t=e.name,c=(e.avatar,e.send),s=Object(a.useState)([]),n=Object(o.a)(s,2),i=n[0],r=n[1],l=Object(a.useState)([]),d=Object(o.a)(l,2),b=d[0],u=d[1],m=Object(a.useState)([]),O=Object(o.a)(m,2),h=O[0],x=O[1];return Object(a.useEffect)((function(){L.collection("users").orderBy("time","desc").onSnapshot((function(e){return r(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})),L.collection("messages").doc(t).collection("chat").orderBy("time","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})),L.collection("messages").doc(c).collection("chat").orderBy("time","asc").onSnapshot((function(e){return x(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(j.jsx)("div",{className:"list",children:i.map((function(e,t){var c,a,s,n;return Object(j.jsx)("div",{children:e.data.username===(null===(c=b[t])||void 0===c?void 0:c.data.reciever)&&t<1?Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:null===(a=b[b.length-1])||void 0===a?void 0:a.data.message}),Object(j.jsxs)("p",{children:[null===(s=h[t])||void 0===s?void 0:s.data.sender," "]}),Object(j.jsx)(w.a,{src:null===(n=b[b.length-1])||void 0===n?void 0:n.data.avatar})]}):""})}))})},ue=function(e){var t=e.user,c=e.image,s=e.name,n=Object(a.useState)(""),i=Object(o.a)(n,2),r=i[0],l=i[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),u=(b[0],b[1]);return Object(a.useEffect)((function(){console.log(r)}),[r]),Object(j.jsxs)("div",{className:"select-chat",children:[Object(j.jsx)("br",{}),Object(j.jsx)(w.a,{className:"select-chat-avatar",src:c}),Object(j.jsxs)("div",{className:"chats-flex",children:[Object(j.jsx)("br",{}),Object(j.jsxs)("p",{onClick:function(){return function(e,t){l(e),L.collection("to").doc(t).set({to:e}),u(t),L.collection("from").doc(t).set({from:t})}(t,s)},children:[t," "]})]})]})},me=function(e){var t=e.message,c=e.time,a=(e.to,e.from,e.reciever),s=e.name,n=e.avatar,i=(e.sender,e.image),o=e.loading;return Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:a===s?"span-avatar":"hide-modal",children:Object(j.jsx)(w.a,{src:n})}),Object(j.jsx)("div",{className:i?"hide-modal":"",children:Object(j.jsxs)("p",{className:a===s?"text-right":"text-left",children:[t," "]})}),o?Object(j.jsx)("div",{style:{float:"left",marginLeft:"40%"},children:Object(j.jsx)(M.BeatLoader,{className:"loader-position",size:10,color:"grey"})}):Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:a===s?"image-right":"image-left",src:i})}),Object(j.jsxs)("p",{className:a===s?"tstamp-right":"tstamp-left",children:[ce()(null===c||void 0===c?void 0:c.toDate()).format("LT")," ",Object(j.jsxs)("span",{className:a===s?"hide-modal":"",children:[" ",Object(j.jsx)(W.b,{color:"#1DA1F2",size:"18px"})]})," "]})]})},Oe=function(e){var t=e.name,c=e.avatar,s=e.email,n=Object(a.useState)(""),i=Object(o.a)(n,2),r=i[0],l=i[1],d=Object(a.useState)([]),b=Object(o.a)(d,2),u=b[0],m=b[1],O=Object(a.useState)(""),h=Object(o.a)(O,2),x=h[0],f=h[1],p=Object(a.useState)(""),v=Object(o.a)(p,2),g=v[0],N=v[1],S=Object(a.useState)(""),k=Object(o.a)(S,2),C=k[0],z=k[1],D=Object(a.useState)(""),F=Object(o.a)(D,2),B=F[0],E=F[1],A=Object(a.useState)([]),V=Object(o.a)(A,2),P=V[0],U=V[1],M=Object(a.useState)(!1),H=Object(o.a)(M,2),Y=H[0],G=H[1],J=Object(a.useState)(!1),K=Object(o.a)(J,2),Q=K[0],X=K[1],q=Object(a.useState)(!1),Z=Object(o.a)(q,2),$=Z[0],ee=Z[1],te=Object(a.useState)(" "),ce=Object(o.a)(te,2),ae=ce[0],se=ce[1],ne=Object(a.useState)(""),ie=Object(o.a)(ne,2),oe=ie[0],re=ie[1],le=Object(a.useState)(""),je=Object(o.a)(le,2),Oe=(je[0],je[1]),he=Object(a.useState)(0),xe=Object(o.a)(he,2),fe=(xe[0],xe[1]),pe=Object(a.useState)(),ve=Object(o.a)(pe,2),ge=ve[0],Ne=ve[1];Object(a.useEffect)((function(){we(),L.collection("to").doc(t).onSnapshot((function(e){var t;N(null===(t=e.data())||void 0===t?void 0:t.to)})),L.collection("from").doc(t).onSnapshot((function(e){var t;z(null===(t=e.data())||void 0===t?void 0:t.from)}))}),[P]),Object(a.useEffect)((function(){L.collection("messages").doc(t).collection("chat").orderBy("time","asc").onSnapshot((function(e){return m(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),Object(a.useEffect)((function(){var e=document.getElementById("textid");e.scrollTop=e.scrollHeight;var t=document.getElementById("textid");t.scrollTop=t.scrollHeight-t.clientHeight}),[Q,u]),Object(a.useEffect)((function(){oe&&ye.put(ae).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;fe(t)}),(function(e){Oe(e)}),Object(_.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.collection("messages").doc(g).collection("chat").add({time:T.a.firestore.FieldValue.serverTimestamp(),image:oe,sender:t,reciever:g,avatar:c,email:s}),L.collection("messages").doc(t).collection("chat").add({time:T.a.firestore.FieldValue.serverTimestamp(),image:oe,sender:t,reciever:g,avatar:c,email:s}),re("");case 3:case"end":return e.stop()}}),e)}))))}),[oe]);var ye=I.ref("images/".concat(ae.name));function we(){L.collection("users").onSnapshot((function(e){return U(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}var Se=function(){var e=Object(_.a)(R.a.mark((function e(t){var c,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=t.target.files[0])){e.next=9;break}return a=new FileReader,e.next=5,se(c);case 5:a.onloadend=function(){re(a.result)},a.readAsDataURL(c),e.next=11;break;case 9:se(null),Oe("Please select an image file");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"messages",children:Object(j.jsxs)("div",{className:"flex-message",children:[Object(j.jsxs)("div",{className:"message-box",children:[Object(j.jsx)("h4",{children:"Messages"}),Object(j.jsx)(be,{name:t,avatar:c})]}),Object(j.jsxs)("div",{className:Q?"hide-modal":"users-box",children:[Object(j.jsx)("h2",{children:"You don\u2019t have a message selected"}),Object(j.jsx)("p",{children:"Choose one from your existing messages, or start a new one."}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"message-select-button",onClick:function(){return G(!Y)},children:" New Message"}),Object(j.jsxs)("div",{className:Y?"message-modal":"hide-modal",children:[Object(j.jsx)(W.a,{onClick:function(){G(!Y),X(!1)},style:{cursor:"pointer"},size:"30px"}),Object(j.jsx)("br",{}),Object(j.jsx)("form",{onSubmit:function(){return f("")}}),Object(j.jsx)("input",{type:"text",placeholder:"Search People...",value:x,onChange:function(e){e.preventDefault(),f(e.target.value);var t=P.filter((function(e){return e.data.username.toLocaleLowerCase().includes(x.toLocaleLowerCase())}));""===x?we():U(t)}}),Object(j.jsx)("hr",{style:{height:"1px"}}),Object(j.jsx)("br",{}),Object(j.jsx)("h5",{className:"h5",children:"Select an user to start conversation"}),Object(j.jsx)("div",{children:P.map((function(e){return Object(j.jsx)("div",{onClick:function(){return t=e.data.avatar,G(!Y),X(!0),void E(t);var t},children:Object(j.jsx)(ue,{name:t,user:e.data.username,image:e.data.avatar})})}))})]}),Object(j.jsx)("div",{className:Y?"overlay":"hide-modal"})]}),Object(j.jsxs)("div",{className:Q?"chatbox":"hide-modal",children:[Object(j.jsxs)("div",{className:"wrap-chat",id:"textid",children:[Object(j.jsxs)("div",{className:"chat-header",children:[Object(j.jsxs)("div",{className:"flex-message",children:[Object(j.jsx)("h2",{children:Object(j.jsx)(w.a,{src:B})}),Object(j.jsxs)("h3",{style:{display:"flex",flexDirection:"column"},children:[g," ",Object(j.jsx)("span",{className:"username-msgs",children:"@".concat(g,"_").concat(g.length)})]})]}),Object(j.jsx)("br",{}),Object(j.jsx)("hr",{style:{width:"550px"}})]}),Object(j.jsx)("div",{className:"chat-middle",children:Object(j.jsxs)("div",{className:"chat-middle-info",children:[Object(j.jsxs)("h3",{style:{fontWeight:"550"},children:[g,Object(j.jsx)("span",{style:{fontWeight:"100",color:"grey"},children:" @".concat(g).concat(g.length)})]}),Object(j.jsx)("p",{children:"This is a random bio set by the developer himself, for test purpose"}),Object(j.jsx)("p",{children:"Info below are fake too"}),Object(j.jsxs)("p",{style:{color:"grey"},children:[" ",Object(j.jsx)("span",{children:Object(j.jsx)(y.b,{})}),"   Joined On ",12,"'th January 20",20]}),Object(j.jsx)("br",{})]})}),Object(j.jsx)("hr",{}),Object(j.jsx)("div",{className:"message-body",children:Object(j.jsx)("div",{className:"text",children:u.map((function(e){var c,a,s,n;return e.data.reciever===g&&e.data.sender===C||e.data.reciever===C&&e.data.sender===g?Object(j.jsx)(me,{message:null===(c=e.data)||void 0===c?void 0:c.message,time:null===(a=e.data)||void 0===a?void 0:a.time,to:g,sender:null===(s=e.data)||void 0===s?void 0:s.sender,reciever:null===(n=e.data)||void 0===n?void 0:n.reciever,name:t,avatar:e.data.avatar,image:e.data.image,loading:ge}):""}))})})]}),Object(j.jsxs)("div",{className:$?"pad-left":"focused",children:[Object(j.jsxs)("label",{htmlFor:"image",children:[Object(j.jsx)(y.c,{style:{cursor:"pointer",marginTop:"10px",opacity:".9"},size:"23px",color:"#1DA1F2"}),Object(j.jsx)("input",{type:"file",onChange:Se,id:"image",style:{display:"none"}})]}),Object(j.jsx)(de.a,{value:r,onChange:l,cleanOnEnter:!0,onEnter:function(){r&&(Ne(!0),L.collection("messages").doc(g).collection("chat").add({message:r,sender:t,reciever:g,avatar:c,email:s,time:T.a.firestore.FieldValue.serverTimestamp()}),L.collection("messages").doc(t).collection("chat").add({message:r,sender:t,reciever:g,avatar:c,email:s,time:T.a.firestore.FieldValue.serverTimestamp()}),Ne(!1),l(""))},placeholder:"Start a new message",borderRadius:"20",borderColor:"#bfbfbf",height:"80",onResize:function(){return ee(!0)}})]})]})]})})};var he=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(""),i=Object(o.a)(n,2),r=i[0],l=i[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),u=b[0],m=b[1];function O(e){l(e.profileObj.email),s(e.profileObj.name),m(e.profileObj.imageUrl),console.log(e.profileObj)}return Object(j.jsx)("div",{children:c?Object(j.jsx)("div",{className:"app",children:Object(j.jsxs)(D.a,{children:[Object(j.jsx)(F,{name:c,avatar:u}),Object(j.jsxs)(je.c,{children:[Object(j.jsx)(je.a,{path:"/React-TwitterClone",children:Object(j.jsx)(ne,{name:c,avatar:u,email:r})}),Object(j.jsx)(je.a,{path:"/messages",children:Object(j.jsx)(Oe,{name:c,avatar:u,email:r})}),Object(j.jsx)(je.a,{path:"/notification",children:Object(j.jsx)(re,{name:c})})]}),Object(j.jsx)(oe,{})]})}):Object(j.jsxs)("div",{className:"left",children:[Object(j.jsx)("img",{src:le}),Object(j.jsx)(P.b,{color:"#00a2ff",size:"40px",className:"ttrico"}),Object(j.jsxs)("h1",{style:{float:"left",marginLeft:"-3%",minWidth:"35%",marginTop:"15%",fontSize:"60px"},children:["Happened Before!",Object(j.jsx)("span",{style:{float:"left",marginTop:"3%",marginLeft:"2%"},children:Object(j.jsx)("p2",{style:{fontSize:"30px"},children:" Join TanTwitter today."})})]}),Object(j.jsx)("div",{className:"login",children:Object(j.jsx)(S.GoogleLogin,{render:function(e){return Object(j.jsx)("button",{className:"loginbtn",onClick:e.onClick,disabled:e.disabled,children:Object(j.jsx)("p",{style:{fontSize:"20px",color:"white"},children:"Log In With Google"})})},clientId:"766075204483-lulb8u6h2g1v0h8kp0gsnirlntf170en.apps.googleusercontent.com",buttonText:"Login With Google",onSuccess:O,onFailure:O,cookiePolicy:"single_host_origin",isSignedIn:!0})})]})})},xe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,173)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(he,{})}),document.getElementById("root")),xe()},69:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){}},[[154,1,2]]]);
//# sourceMappingURL=main.7c56983d.chunk.js.map